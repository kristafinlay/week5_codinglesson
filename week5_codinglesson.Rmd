---
title: "Penguin Size Comparisons"
author: "Krista Finlay"
date: "11/14/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(palmerpenguins)
library(effsize)
library(broom)
library(ggbeeswarm)
library(car)
```

# Part 1: T- tests 
(used to compare means between two different groups. Asking questions of do we have enough evidence to make us think that these are drawn from populations that have different means or am I going to stick with the null hypothesis that these were drawn from populations with the same mean )

Mass comparison: Between male and female Chinstrap penguins

First do some exploring in exploratory code chunk

```{r}
#create subset only for chinstrap penguins
chinstraps <- penguins %>% 
  filter(species == "Chinstrap")

#Make some basic plots to explore normality and distribution, and get some descriptive statistics. Two types of tests of exploratory visualizations:

##Histograms (use facet plots based on groups in variable)
ggplot(data = chinstraps, aes(x = body_mass_g))+
  geom_histogram(bins = 10)+
  facet_wrap(~sex)

#two distributions that look somewhat close to bell shape, mean would be a reasonable metric of central tendency, bell shapes somewhat symmetric, central tendency of the male weight a bit higher around 4000 with the female around 3500


##Quantile- quantile plot  (explore normality- compare our sample to data that if drawn from a normal distribution. The closer to linear a qq plot gets, the closer our sample is to normally distributed)

#QQ plot (check for normality)
ggplot(data = chinstraps, aes(sample = body_mass_g))+
  geom_qq()+
  facet_wrap(~sex)

#see they are as close to normally distributed as you can hope. Both histogram and qq telling me both the distributions are pretty close to normal.

## Need to get some descriptive statistics: (uses group_by and summarize to recognize groups within a variable or variables designate and then puts functions we call in summarize (to make columns in table), condenses the calculations for each group into values and into a summary table)
chinstraps %>% 
  group_by(sex) %>% 
  summarize(mean_mass = mean(body_mass_g),
            median_mass = median(body_mass_g),
            sd_mass = sd(body_mass_g),
            sample_size = n())
  
#see the means are a bit different, median follows the mean differences, symmetric distribution, all meaningful to us.We have finished our summary statistics.
```

### comparing sizes between male and female chinstap penguins
Get vectors of body_mass_g for male and female chinstrap penguins separately (see lab week 4.

```{r}
chinstraps_f <- chinstraps %>% 
  filter(sex == "female") %>% 
  pull(body_mass_g)


chinstraps_m <- chinstraps %>% 
  filter(sex == "male") %>% 
  pull(body_mass_g)

#Now have vectors to run two sample t-tests
```

###Run a couple t-tests, in a couple different ways

1. Is there a significant difference in body mass between male and female Chinstrap penguins? 
(do we have enough evidence to make us think that means difference is far enough from zero, that we think the population mean mass is different from the groups that these were drawn from- two sided t-test)

```{r}
chinstrap_ttest <- t.test(chinstraps_f, chinstraps_m)
chinstrap_ttest


# Then need to find the Cohen d Effect size (metric used ti describe the magnitude of differences between groups)
cohen.d(chinstraps_f, chinstraps_m)

```
Are male chinstrap penguins significantly larger (body mass) then female chinstrap penguins? (one sided test, only interested in tail of t- distribution' is mean male mass significantly greater

)
```{r}
t.test(chinstraps_m, chinstraps_f, alternative = "greater")
```






